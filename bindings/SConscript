#!/usr/bin/env python
import os
from distutils.sysconfig import get_python_lib

Import('env')
buildenv = env.Clone()
    
# Have to include all cpp files (unless we add to the list each time)
buildenv.Append(LIBPATH = '#/build')
buildenv.Append(LIBS = 'oxsx')
buildenv.Append(LINKFLAGS = '-rpath /Users/matthewmottram/snoPlus/software/snoing-install/root-5.34.30/lib')
buildenv.Append(CPPPATH = '#/src')
shlib = buildenv.SharedLibrary('oxsx', ['oxsx_base.cpp'],
                               SHLIBSUFFIX='.so', SHLIBPREFIX='#/lib')

# Install to pythonpath
install_dir = get_python_lib()
install = Install(install_dir, shlib)

env.Alias("bindings", [shlib, install])

